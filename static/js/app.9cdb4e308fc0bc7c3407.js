webpackJsonp([10,8],{0:function(t,e,n){"use strict";function a(t){return t&&t.__esModule?t:{default:t}}var o=n(109),s=a(o),r=n(40),u=a(r),i=n(127),c=a(i),l=n(4),f=a(l),d=n(84),p=a(d),h=n(110),m=a(h),b=n(112),v=a(b),g=n(111),_=a(g),y=n(113),k=a(y),w=n(81),C=a(w);u.default.use(p.default),u.default.use(_.default),f.default.ajaxSettings.crossDomain=!0,(0,s.default)(m.default).forEach(function(t){return u.default.filter(t,m.default[t])});var M=new p.default({routes:v.default});C.default.attach(document.body),window.sessionStorage.user&&k.default.dispatch("setUserInfo",JSON.parse(window.sessionStorage.user)),M.beforeEach(function(t,e,n){(0,f.default)("html, body, #page").removeClass("scroll-hide"),t.matched.some(function(t){return t.meta.requiresAuth})?k.default.state.userInfo.userId?n():n({path:"/login",query:{redirect:t.fullPath}}):n()}),new u.default({router:M,store:k.default,components:{App:c.default}}).$mount("#app")},39:function(t,e,n){"use strict";function a(t){return t&&t.__esModule?t:{default:t}}var o=n(108),s=a(o),r=n(85),u=a(r),i={checkEmail:function(t){var e=/^([a-zA-Z0-9_\\.\\-])+\\@(([a-zA-Z0-9\\-])+\.)+([a-zA-Z0-9]{2,4})+$/;return!!e.test(t)},checkPhone:function(t){var e=/^1\d{10}$/;return!!e.test(t)}},c=function(t){if(!t)return[];var e=[/```.+?```/g,/^```[\s\S]+?^```/gm,/`[\s\S]+?`/g,/^.*/gm,/\b\S*?@[^\s]*?\..+?\b/g,/\[@.+?\\]\(\/.+?\)/g];e.forEach(function(e){t=t.replace(e,"")});var n=t.match(/@[a-z0-9\-_]+\b/gim),a=[];if(n)for(var o=0,r=n.length;o<r;o++){var u=n[o];u=u.slice(1),a.push(u)}return a=s.default.uniq(a)},l=function(t){for(var e=c(t),n=0,a=e.length;n<a;n++){var o=e[n];t=t.replace(new RegExp("@"+o+"\\b(?!\\])","g"),"[@"+o+"](/user/"+o+")")}return t},f=function(t,e){var n={"M+":t.getMonth()+1,"d+":t.getDate(),"h+":t.getHours(),"m+":t.getMinutes(),"s+":t.getSeconds(),"q+":Math.floor((t.getMonth()+3)/3),S:t.getMilliseconds()};/(y+)/.test(e)&&(e=e.replace(RegExp.$1,(t.getFullYear()+"").substr(4-RegExp.$1.length)));for(var a in n)new RegExp("("+a+")").test(e)&&(e=e.replace(RegExp.$1,1===RegExp.$1.length?n[a]:("00"+n[a]).substr((""+n[a]).length)));return e},d=function(t){var e="";if(null!==t&&""!==t){var n=new u.default;e=n.format(t,"zh_CN")}return e};e.getLastTimeStr=function(t,e){return e?d(t):f(new Date(t),"yyyy-MM-dd hh:mm")},e.getTabInfo=function(t,e,n,a){var o="",s="";if(n)o="置顶",s="top";else if(e)o="精华",s="good";else switch(t){case"share":o="分享",s="share";break;case"ask":o="问答",s="ask";break;case"job":o="招聘",s="job";break;default:o="暂无",s="default"}return a?s:o},e.setListClass=function(t,e){var n="";return n=0===t?"no-pic":e===!0?"top":t<3?"small":"medium"},e.throttle=function(t,e,n){var a=void 0,o=new Date;return function(){var s=this,r=arguments,u=new Date;clearTimeout(a),u-o>=n?(t.apply(s,r),o=u):a=setTimeout(t,e)}},e.linkUsers=l,e.fetchUsers=c,e.getCheck=i,e.fmtDate=f,e.MillisecondToDate=d},44:function(t,e,n){t.exports=n.p+"static/img/loading.234a33e.gif"},72:function(t,e){},73:function(t,e){},110:function(t,e,n){"use strict";function a(t){return t&&t.__esModule?t:{default:t}}var o=n(39),s=a(o);e.getLastTimeStr=function(t,e){return e?s.default.MillisecondToDate(t):s.default.fmtDate(new Date(t),"yyyy-MM-dd hh:mm")},e.getTabStr=function(t,e,n){var a="";if(n)a="置顶";else if(e)a="精华";else switch(t){case"share":a="分享";break;case"ask":a="问答";break;case"job":a="招聘";break;default:a="暂无"}return a},e.getTabClassName=function(t,e,n){var a="";if(n)a="top";else if(e)a="good";else switch(t){case"share":a="share";break;case"ask":a="ask";break;case"job":a="job";break;default:a="default"}return a}},111:function(t,e,n){"use strict";function a(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var o=n(40),s=a(o),r=n(4),u=a(r);e.default={install:function(){var t=null;s.default.prototype.$alert=function(e){(0,u.default)("#alertWeek").remove();var n=(0,u.default)('<div class="week-alert" id="alertWeek"></div>');(0,u.default)("body").append(n),n.html(e),n.addClass("alert-show"),clearTimeout(t),t=setTimeout(function(){n.remove()},2e3)}}}},112:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=function(t){n.e(7,function(){t(n(49))})},o=function(t){n.e(1,function(){t(n(50))})},s=[{path:"/",name:"index",component:a},{path:"/list",name:"list",component:o},{path:"/topic/:id",name:"topic",component:function(t){n.e(0,function(){t(n(55))})}},{path:"/login",name:"login",component:function(t){n.e(2,function(){t(n(51))})}},{path:"/near",name:"near",component:function(t){n.e(4,function(){t(n(53))})}},{path:"/add",name:"add",component:function(t){n.e(3,function(){t(n(54))})}},{path:"/follow",name:"follow",component:function(t){n.e(6,function(){t(n(48))})}},{path:"/my",name:"my",component:function(t){n.e(5,function(){t(n(52))})}},{path:"*",component:a}];e.default=s},113:function(t,e,n){"use strict";function a(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var o=n(40),s=a(o),r=n(31),u=a(r);s.default.use(u.default);var i=new u.default.Store({state:{userInfo:{}},getters:{getUserInfo:function(t){return t.userInfo}},mutations:{setUserInfo:function(t,e){t.userInfo=e}},actions:{setUserInfo:function(t,e){var n=t.commit;n("setUserInfo",e)}}});e.default=i},114:function(t,e,n){"use strict";function a(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var o=n(131),s=a(o);e.default={components:{Tabbar:s.default},mounted:function(){}}},118:function(t,e){"use strict"},127:function(t,e,n){var a,o;n(72),a=n(114);var s=n(133);o=a=a||{},"object"!=typeof a.default&&"function"!=typeof a.default||(o=a=a.default),"function"==typeof o&&(o=o.options),o.render=s.render,o.staticRenderFns=s.staticRenderFns,t.exports=a},131:function(t,e,n){var a,o;n(73),a=n(118);var s=n(134);o=a=a||{},"object"!=typeof a.default&&"function"!=typeof a.default||(o=a=a.default),"function"==typeof o&&(o=o.options),o.render=s.render,o.staticRenderFns=s.staticRenderFns,t.exports=a},133:function(t,e){t.exports={render:function(){var t=this;return t._h("div",{staticClass:"main"},[t._h("transition",{attrs:{name:"fade",mode:"out-in"}},[t._h("router-view",{attrs:{id:"view"}})])," ","topic"!==t.$route.name&&"login"!==t.$route.name?t._h("Tabbar"):t._e()])},staticRenderFns:[]}},134:function(t,e){t.exports={render:function(){var t=this;return t._h("nav",{staticClass:"tab-bar"},[t._h("div",{staticClass:"tab-bar-list"},[t._h("router-link",{staticClass:"tab-item",attrs:{to:"/index"}},[t._h("span",{staticClass:"icon icon-home"})," ",t._h("span",{staticClass:"tab-label"},["当地"])])," ",t._h("router-link",{staticClass:"tab-item",attrs:{to:"/near"}},[t._h("span",{staticClass:"icon icon-near",attrs:{name:"flag"}})," ",t._h("span",{staticClass:"tab-label"},["附近"])])," ",t._h("router-link",{staticClass:"tab-item",attrs:{to:"/add"}},[t._h("span",{staticClass:"icon icon-plus"})," ",t._h("span",{staticClass:"tab-label"},["发布"])])," ",t._h("router-link",{staticClass:"tab-item",attrs:{to:"/follow"}},[t._h("span",{staticClass:"icon icon-follow"})," ",t._h("span",{staticClass:"tab-label"},["关注"])])," ",t._h("router-link",{staticClass:"tab-item",attrs:{to:"/my"}},[t._h("span",{staticClass:"icon icon-my"})," ",t._h("span",{staticClass:"tab-label"},["我的"])])])])},staticRenderFns:[]}}});
//# sourceMappingURL=app.9cdb4e308fc0bc7c3407.js.map